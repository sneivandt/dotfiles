#!/bin/sh
#
# Pre-commit hook orchestrator. Delegates to individual check scripts kept
# alongside this file in the hooks/ directory.
#
# This hook is specific to the dotfiles repository and is installed
# by the dotfiles installation script.
#
# To bypass this hook temporarily, use: git commit --no-verify

set -o errexit
set -o nounset

# Locate the hooks/ directory in the repository. The hook file is copied into
# .git/hooks/ by the installer, so we cannot rely on $0 to find the source
# directory. Use the git repo root instead.
HOOKS_DIR="$(git rev-parse --show-toplevel)/hooks"

sh "$HOOKS_DIR/check-sensitive.sh"
sh "$HOOKS_DIR/check-rust.sh"

exit 0
